$(document).ready(function(){function n(e,t){if(!t)window.location=e}function r(e){var t=document.createElement("a");t.href=e;if(location.host===t.host)return true;else return false}function i(e,t,n){$.ajax({type:"GET",url:t,data:e,crossDomain:true,success:n,error:function(e,t,n){if(e.status!=0)console.error("Oh no! Something went wrong. Please report this error: \n"+n+e.status+e.responseText)}})}var e=document.URL;if(typeof _404_SETTINGS==="undefined")_404_SETTINGS={};if(!_404_SETTINGS.origin)_404_SETTINGS.origin="both";if(typeof _404_SETTINGS.include==="undefined")_404_SETTINGS.include="a";if(typeof _404_SETTINGS.exclude==="undefined")_404_SETTINGS.exclude="";var t=$(_404_SETTINGS.include).not(_404_SETTINGS.exclude);t.click(function(t){var s=$(this).attr("href");var o=$(this).prop("href");if(s[0]==="#"||s.length===0)return;if(_404_SETTINGS.origin==="different"&&r(o))return;else if(_404_SETTINGS.origin==="same"&&!r(o))return;var u=t.ctrlKey||t.metaKey||$(this).prop("target")===("_blank"||"blank");if(!u)t.preventDefault();var a;i({source:e,destination:o},"http://monitor404.com/api/check/",function(e){if(a)window.clearTimeout(a);n(o,u)});a=window.setTimeout(function(){console.error("Ajax request to server timed out.");n(o,u)},500)})})
